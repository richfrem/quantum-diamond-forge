flowchart TB
    Start([Developer with Idea]) --> Clone[Clone Quantum Diamond Forge]
    Clone --> IDE[Open in Antigravity IDE]
    
    %% --- Orchestration ---
    subgraph Orchestration ["ðŸŽ¯ Orchestration (Human-in-the-Loop)"]
        IDE --> Kickoff[Run ./forge.sh start]
        Kickoff --> Mode{Choose Mode<br/>(Ultra/Lean/Ent)}
        Mode --> Loop{Specification Loop}
    end
    
    %% --- Web LLM ---
    subgraph WebTools ["ðŸ§  Web LLM (The Heavy Lifter)"]
        Gemini["Web LLM e.g. Gemini 3 pro<br/>Generates Specs (per Mode)"]
    end
    
    %% --- Local Execution ---
    subgraph LocalExecution ["ðŸ’» Local Project (The Build)"]
        Artifacts["docs/ Folder<br/>1. Requirements<br/>2. Architecture<br/>3. Security<br/>4. Testing<br/>5. Implementation"]
        Agent["Antigravity Agent<br/>(The Builder)"]
        Code[Production Code]
    end
    
    %% Main Flow
    Loop -->|1. Copy Prompts| Gemini
    Gemini -->|2. Generate Docs<br/>(Detail Level = Mode)| Artifacts
    
    Artifacts -->|3. Guide| Agent
    Agent -->|4. Write| Code
    
    %% Feedback Loops
    Code -.->|Verify| Agent
    Agent -.->|Refine| Artifacts
    
    %% Final Output
    Code --> Done([Production-Ready Application])
    
    %% Styles
    style IDE fill:#dcfce7,stroke:#166534,stroke-width:3px
    style Done fill:#fef3c7,stroke:#d97706,stroke-width:3px
    style Artifacts fill:#dbeafe,stroke:#1e40af,stroke-width:2px
