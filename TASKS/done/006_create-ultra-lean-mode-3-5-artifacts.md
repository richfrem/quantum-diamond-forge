# Task: Create Ultra-Lean Mode (3-5 Artifacts)

**Status**: Done  
**Created**: 2025-11-22  
**Owner**: Antigravity  
**Priority**: High  
**Source**: Red Team v2.1 Feedback (GPT-5, Grok 4)

## Objective
Create a truly minimal "Ultra-Lean" mode with only 3-5 artifacts for rapid prototyping and solo developers.

## Context
**Problem**: Current Lean mode still produces ~10 artifacts, which both reviewers say feels like "Enterprise-lite" rather than truly lean.

**Red Team Feedback**:
- GPT-5 v2.1: "Lean mode still produces: Feature catalog, user stories, C4, data model, security, testing, implementation. This is still ceremony."
- Grok 4 v2.1: "Lean mode is 'lighter' but not actually lean."

## Scope

### Ultra-Lean Workflow
**Total artifacts**: 3-5 max  
**Total time**: ~30 minutes

### Required Artifacts

1. **Product Overview** (`docs/00_OVERVIEW.md`)
   - Product name + tagline
   - Problem statement (2-3 sentences)
   - Solution statement (2-3 sentences)
   - Target users

2. **Core Features** (`docs/01_FEATURES.md`)
   - 3-5 Must-Have features only
   - One-sentence description each
   - Basic acceptance criteria (1-2 per feature)

3. **System Diagram** (`docs/02_SYSTEM.md`)
   - Single C4 Level 1 diagram
   - System context only
   - No container/component diagrams

4. **API Sketch** (`docs/03_API.md`)
   - Minimal endpoint list (5-10 endpoints)
   - No detailed request/response schemas
   - Just: `GET /api/tasks`, `POST /api/tasks`, etc.

5. **Build Plan** (`docs/04_PLAN.md`)
   - 5-10 implementation tasks
   - Time estimates
   - Simple dependency order

### What Gets Auto-Generated (On-Demand)
Everything else is generated by the IDE agent as needed:
- Data models (inferred from API)
- Test cases (basic templates)
- Security checklist (standard template)
- Detailed architecture (if needed later)

## Implementation Steps

### Phase 1: Create Ultra-Lean Prompts
- [ ] Create `prompts/ultra-lean/00_overview.md`
- [ ] Create `prompts/ultra-lean/01_features.md`
- [ ] Create `prompts/ultra-lean/02_system.md`
- [ ] Create `prompts/ultra-lean/03_api.md`
- [ ] Create `prompts/ultra-lean/04_plan.md`

### Phase 2: Update Master Protocol
- [ ] Add Ultra-Lean mode to `00_MASTER_PROTOCOL_LEAN.md`
- [ ] Document when to use Ultra-Lean vs Lean vs Enterprise
- [ ] Add mode comparison table

### Phase 3: Templates & Examples
- [ ] Create example Ultra-Lean spec (e.g., "Todo App")
- [ ] Add templates for each artifact
- [ ] Update README with Ultra-Lean quick start

### Phase 4: IDE Agent Integration
- [ ] Update IDE agent prompts to handle minimal specs
- [ ] Add "infer from context" capabilities
- [ ] Test with real project

## Success Criteria
- [ ] Ultra-Lean mode produces 3-5 artifacts max
- [ ] Total time: ~30 minutes (vs 1 hour for Lean)
- [ ] IDE agent can build from minimal specs
- [ ] Example project validates the workflow
- [ ] Documentation updated

## Mode Comparison

| Mode | Artifacts | Time | Best For |
|------|-----------|------|----------|
| **Ultra-Lean** | 3-5 | ~30 min | Rapid prototypes, hackathons |
| **Lean** | ~10 | ~1 hour | MVPs, solo devs |
| **Enterprise** | 25+ | 4-6 hours | Production apps, teams |

## Example Ultra-Lean Spec

**Product**: QuickPoll  
**Tagline**: Dead-simple polling for teams  
**Problem**: Email threads for yes/no questions are slow  
**Solution**: Create poll, share link, see results  

**Features**:
1. Create poll with question + options
2. Share poll via link
3. Vote anonymously
4. View real-time results
5. Export results as CSV

**System**: Web app → API → Database  
**API**: 5 endpoints (create, vote, results, list, delete)  
**Plan**: 8 tasks, 2-3 days

## Out of Scope (Future)
- CLI command: `./forge.sh init --mode ultra-lean`
- Interactive wizard for Ultra-Lean mode
- Auto-upgrade from Ultra-Lean → Lean → Enterprise

## Dependencies
- None (can start immediately)

## Risks
- Too minimal may cause IDE agent to make wrong assumptions
- May need iteration to find right balance
- Adoption: will people trust such minimal specs?

## Notes
- This addresses "Lean mode not lean enough" feedback
- Target: Weekend projects, hackathons, quick experiments
- Can always upgrade to Lean/Enterprise later
